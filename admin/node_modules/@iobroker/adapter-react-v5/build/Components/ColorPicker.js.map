{"version":3,"file":"ColorPicker.js","sourceRoot":"./src/","sources":["Components/ColorPicker.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { Component, type CSSProperties } from 'react';\nimport { ChromePicker, type RGBColor } from 'react-color';\n\nimport { TextField, Menu, IconButton, Button, Box } from '@mui/material';\n\nimport { Delete as IconDelete, Close as IconClose } from '@mui/icons-material';\n\nimport { I18n } from '../i18n';\n\nimport type { IobTheme } from '../types';\n\nconst styles: Record<string, any> = {\n    color: {\n        width: 36,\n        height: 14,\n        borderRadius: 2,\n    },\n    delButton: {\n        marginTop: 16,\n    },\n    swatch: {\n        mt: '16px',\n        p: '5px',\n        backgroundColor: 'background.paper',\n        borderRadius: '1px',\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n        display: 'inline-block',\n        cursor: 'pointer',\n        verticalAlign: 'middle',\n    },\n    swatchDisabled: {\n        opacity: 0.5,\n        cursor: 'default',\n    },\n    popover: {\n        '& .MuiPaper-root': {\n            textAlign: 'right',\n            backgroundColor: '#00000000',\n            boxShadow: 'none',\n        },\n    },\n    popoverList: {\n        padding: 0,\n    },\n    closeButton: (theme: IobTheme) => ({\n        backgroundColor: `${theme.palette.background.paper} !important`,\n        borderRadius: '0 0 25% 25%',\n        '&:hover': {\n            backgroundColor: `${theme.palette.secondary.main} !important`,\n        },\n    }),\n    cover: {\n        position: 'fixed',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    textDense: {\n        mt: 0,\n        mb: 0,\n    },\n    picker: (theme: IobTheme) => ({\n        background: `${theme.palette.background.paper} !important`,\n    }),\n    iconButton: {\n        width: 16,\n        height: 16,\n    },\n    button: {\n        width: 32,\n        height: 32,\n        minWidth: 32,\n        minHeight: 32,\n    },\n};\n\ninterface ColorPickerProps {\n    /** Set to true to disable the color picker. */\n    disabled?: boolean;\n    /** The currently selected color. */\n    value?: string;\n    /** @deprecated The currently selected color use value */\n    color?: string;\n    /** The color change callback. */\n    onChange: (rgba: string) => void;\n    /** Label of the color picker. */\n    label?: string;\n    /** @deprecated TLabel of the color picker use label */\n    name?: string;\n    /** Additional styling for this component. */\n    style?: CSSProperties;\n    /** The CSS class name. */\n    className?: string;\n    customPalette?: string[];\n    noInputField?: boolean;\n    barWidth?: number;\n    sx?: Record<string, any>;\n    theme?: IobTheme;\n}\n\ninterface ColorPickerState {\n    displayColorPicker: boolean;\n    color: string | RGBColor;\n    anchorEl: HTMLDivElement | null;\n}\n\n/**\n * A color picker component.\n */\nexport class ColorPicker extends Component<ColorPickerProps, ColorPickerState> {\n    /**\n     * Constructor for the color picker.\n     *\n     * @param props The properties.\n     */\n    constructor(props: ColorPickerProps) {\n        super(props);\n        this.state = {\n            displayColorPicker: false,\n            color: this.props.value || this.props.color || '',\n            anchorEl: null,\n        };\n    }\n\n    private handleClick = (e: React.MouseEvent<HTMLDivElement>): void => {\n        this.setState({\n            displayColorPicker: !this.state.displayColorPicker,\n            anchorEl: this.state.displayColorPicker ? null : e.currentTarget,\n        });\n    };\n\n    private handleClose = (): void => {\n        this.setState({ displayColorPicker: false, anchorEl: null });\n    };\n\n    /**\n     * Convert the given color to hex ('#rrggbb') or rgba ('rgba(r,g,b,a)') format.\n     *\n     * @param color The color to convert.\n     * @param isHex If true, the color will be converted to hex format.\n     * @returns the hex or rgba representation of the given color.\n     */\n    static getColor(color: string | { rgb: RGBColor } | RGBColor, isHex?: boolean): string {\n        if (color && typeof color === 'object') {\n            const oColor = color as { rgb: RGBColor };\n            if (oColor.rgb) {\n                if (isHex) {\n                    return `#${oColor.rgb.r.toString(16).padStart(2, '0')}${oColor.rgb.g.toString(16).padStart(2, '0')}${oColor.rgb.b.toString(16).padStart(2, '0')}`;\n                }\n                return `rgba(${oColor.rgb.r},${oColor.rgb.g},${oColor.rgb.b},${oColor.rgb.a})`;\n            }\n            const rColor = color as RGBColor;\n            if (isHex) {\n                return `#${rColor.r.toString(16).padStart(2, '0')}${rColor.g.toString(16).padStart(2, '0')}${rColor.b.toString(16).padStart(2, '0')}`;\n            }\n            return `rgba(${rColor.r},${rColor.g},${rColor.b},${rColor.a})`;\n        }\n        if (typeof color === 'string') {\n            return isHex ? ColorPicker.rgb2hex(color || '') : color || '';\n        }\n        return '';\n    }\n\n    /**\n     * Convert rgb() or rgba() format to hex format #rrggbb.\n     *\n     * @param rgb The color in rgb() or rgba() format. if not in this format, the color will be returned as is.\n     */\n    static rgb2hex(rgb: string): string {\n        const m = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\n        if (m) {\n            const r = parseInt(m[1], 10).toString(16).padStart(2, '0');\n            const g = parseInt(m[2], 10).toString(16).padStart(2, '0');\n            const b = parseInt(m[3], 10).toString(16).padStart(2, '0');\n\n            return m?.length === 4 ? `#${r}${g}${b}` : rgb;\n        }\n        return rgb;\n    }\n\n    private handleChange = (color: string | RGBColor): void => {\n        this.setState({ color }, () => this.props.onChange && this.props.onChange(ColorPicker.getColor(color)));\n    };\n\n    /**\n     * If the props are updated from outside, they should override the state\n     *\n     * @param _prevProps The previous properties.\n     * @param prevState The previous state.\n     */\n    componentDidUpdate(_prevProps: ColorPickerProps, prevState: ColorPickerState): void {\n        const color = ColorPicker.getColor(this.props.color || this.props.value || '');\n\n        if (color !== prevState.color) {\n            this.setState({ color });\n        }\n    }\n\n    renderCustomPalette(): React.JSX.Element | null {\n        if (!this.props.customPalette) {\n            return null;\n        }\n        return (\n            <div style={{ width: '100%', display: 'flex', flexWrap: 'wrap' }}>\n                {this.props.customPalette.map(color => (\n                    <Button\n                        style={styles.button}\n                        key={color}\n                        onClick={() => {\n                            this.handleChange(color);\n                            setTimeout(() => this.handleClose(), 300);\n                        }}\n                    >\n                        <div style={{ ...styles.iconButton, background: color }} />\n                    </Button>\n                ))}\n            </div>\n        );\n    }\n\n    render(): React.JSX.Element {\n        const style = { ...(this.props.style || {}) };\n        style.position = 'relative';\n        const { color } = this.state;\n\n        return (\n            <Box\n                component=\"div\"\n                style={style}\n                sx={this.props.sx || undefined}\n                className={this.props.className || ''}\n            >\n                {this.props.noInputField ? null : (\n                    <TextField\n                        disabled={this.props.disabled}\n                        variant=\"standard\"\n                        id=\"ar_color_picker_name\"\n                        label={this.props.label || this.props.name}\n                        value={color || ''}\n                        margin=\"dense\"\n                        sx={{\n                            '&.MuiFormControl-root': styles.textDense,\n                            width: color ? 'calc(100% - 80px)' : 'calc(100% - 56px)',\n                            mr: color ? undefined : 1,\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                    />\n                )}\n                {!this.props.noInputField && color ? (\n                    <IconButton\n                        disabled={this.props.disabled}\n                        onClick={() => this.handleChange('')}\n                        size=\"small\"\n                        style={this.props.label || this.props.name ? styles.delButton : undefined}\n                    >\n                        <IconDelete />\n                    </IconButton>\n                ) : null}\n                <Box\n                    component=\"div\"\n                    onClick={e => !this.props.disabled && this.handleClick(e)}\n                    title={I18n.t('ra_Select color')}\n                    sx={{\n                        ...styles.swatch,\n                        ...(this.props.disabled ? styles.swatchDisabled : undefined),\n                        background: color ? undefined : 'transparent',\n                        border: color ? undefined : '1px dashed #ccc',\n                        boxSizing: 'border-box',\n                        marginTop: this.props.noInputField || !(this.props.label || this.props.name) ? 0 : undefined,\n                    }}\n                >\n                    <div\n                        style={{\n                            ...styles.color,\n                            background: ColorPicker.getColor(color),\n                            width: this.props.noInputField ? this.props.barWidth || 16 : this.props.barWidth || 36,\n                        }}\n                    />\n                </Box>\n                {this.state.displayColorPicker && !this.props.disabled ? (\n                    <Menu\n                        sx={{\n                            ...styles.popover,\n                            '&. MuiMenu-list': styles.popoverList,\n                        }}\n                        anchorEl={this.state.anchorEl}\n                        open={!0}\n                        onClose={() => this.handleClose()}\n                    >\n                        <ChromePicker\n                            color={this.state.color || undefined}\n                            onChangeComplete={(_color: { rgb: RGBColor }) => this.handleChange(_color.rgb)}\n                            styles={{\n                                default: {\n                                    picker: {\n                                        backgroundColor: this.props.theme?.palette.background.paper || '#888',\n                                    },\n                                },\n                            }}\n                        />\n                        {color && this.props.noInputField ? (\n                            <IconButton\n                                sx={styles.closeButton}\n                                onClick={() => this.handleChange('')}\n                            >\n                                <IconDelete />\n                            </IconButton>\n                        ) : null}\n                        <IconButton\n                            sx={styles.closeButton}\n                            onClick={() => this.handleClose()}\n                        >\n                            <IconClose />\n                        </IconButton>\n                        {this.renderCustomPalette()}\n                    </Menu>\n                ) : null}\n            </Box>\n        );\n    }\n}\n"]}