{"version":3,"file":"TreeTable.js","sourceRoot":"./src/","sources":["Components/TreeTable.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component, type JSX } from 'react';\n\nimport { HexColorPicker as ColorPicker } from 'react-colorful';\n\nimport {\n    Fab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    IconButton,\n    Select,\n    MenuItem,\n    TextField,\n    Checkbox,\n    Dialog,\n} from '@mui/material';\n\nimport {\n    Edit as IconEdit,\n    Delete as IconDelete,\n    NavigateNext as IconExpand,\n    ExpandMore as IconCollapse,\n    Check as IconCheck,\n    Close as IconClose,\n    Add as IconAdd,\n    ViewHeadline as IconList,\n    Colorize as IconColor,\n} from '@mui/icons-material';\n\nimport type { Connection } from '../Connection';\n\nimport { DialogSelectID } from '../Dialogs/SelectID';\nimport { Utils } from './Utils';\nimport type { IobTheme } from '../types';\n\nfunction getAttr(obj: Record<string, any>, attr: string | string[], lookup?: Record<string, string>): any {\n    if (typeof attr === 'string') {\n        attr = attr.split('.');\n    }\n\n    if (!obj) {\n        return null;\n    }\n\n    if (attr.length === 1) {\n        if (lookup && lookup[obj[attr[0]]]) {\n            return lookup[obj[attr[0]]];\n        }\n        return obj[attr[0]];\n    }\n\n    const name: string = attr.shift();\n    return getAttr(obj[name], attr);\n}\n\nfunction setAttr(obj: Record<string, any>, attr: string | string[], value: any): void {\n    if (typeof attr === 'string') {\n        attr = attr.split('.');\n    }\n\n    if (attr.length === 1) {\n        return (obj[attr[0]] = value);\n    }\n    const name: string = attr.shift();\n    if (obj[name] === null || obj[name] === undefined) {\n        obj[name] = {};\n    }\n    return setAttr(obj[name], attr, value);\n}\n\nconst styles: Record<string, any> = {\n    tableContainer: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto',\n    },\n    table: {\n        width: '100%',\n        minWidth: 800,\n        maxWidth: 1920,\n    },\n    cell: {\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: 4,\n        paddingRight: 4,\n    },\n    rowMainWithChildren: {},\n    rowMainWithoutChildren: {},\n    rowNoEdit: {\n        opacity: 0.3,\n    },\n    cellExpand: {\n        width: 30,\n    },\n    cellButton: {\n        width: 30,\n    },\n    cellHeader: {\n        fontWeight: 'bold',\n        background: (theme: IobTheme) => (theme.palette.mode === 'dark' ? '#888' : '#888'),\n        color: (theme: IobTheme) => (theme.palette.mode === 'dark' ? '#EEE' : '#111'),\n        height: 48,\n        wordBreak: 'break-word',\n        whiteSpace: 'pre',\n    },\n    width_name_nicknames: {\n        maxWidth: 150,\n    },\n    width_ioType: {\n        maxWidth: 100,\n    },\n    width_type: {\n        maxWidth: 100,\n    },\n    width_displayTraits: {\n        maxWidth: 100,\n    },\n    width_roomHint: {\n        maxWidth: 100,\n    },\n    rowSecondary: {\n        fontStyle: 'italic',\n    },\n    cellSecondary: {\n        fontSize: 10,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    fieldEditWithButton: {\n        width: 'calc(100% - 33px)',\n        display: 'inline-block',\n    },\n    fieldEdit: {\n        width: '100%',\n        display: 'inline-block',\n        lineHeight: '50px',\n        verticalAlign: 'middle',\n    },\n    fieldButton: {\n        width: 30,\n        display: 'inline-block',\n    },\n    colorDialog: {\n        overflow: 'hidden',\n        padding: 15,\n    },\n    subText: {\n        fontSize: 10,\n        fontStyle: 'italic',\n    },\n    glow: {\n        animation: 'glow 0.2s 2 alternate',\n    },\n};\n\nfunction descendingComparator(\n    a: Record<string, any>,\n    b: Record<string, any>,\n    orderBy: string,\n    lookup?: Record<string, string>,\n): number {\n    const _a = getAttr(a, orderBy, lookup) || '';\n    const _b = getAttr(b, orderBy, lookup) || '';\n\n    if (_b < _a) {\n        return -1;\n    }\n    if (_b > _a) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction getComparator(\n    order: 'desc' | 'asc',\n    orderBy: string,\n    lookup?: Record<string, string>,\n): (a: Record<string, any>, b: Record<string, any>) => number {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy, lookup)\n        : (a, b) => -descendingComparator(a, b, orderBy, lookup);\n}\n\nfunction stableSort(\n    array: Record<string, any>[],\n    comparator: (a: Record<string, any>, b: Record<string, any>) => number,\n): Record<string, any>[] {\n    const stabilizedThis: { e: Record<string, any>; i: number }[] = array.map((el, index) => ({ e: el, i: index }));\n\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a.e, b.e);\n        if (order) {\n            return order;\n        }\n        return a.i - b.i;\n    });\n\n    return stabilizedThis.map(item => item.e);\n}\n\ninterface Column {\n    cellStyle?: Record<string, any>;\n    editComponent?: React.FC<{ value: any; rowData: Record<string, any>; onChange: (newValue: any) => void }>;\n    field: string;\n    headerStyle?: Record<string, any>;\n    hidden?: boolean;\n    lookup?: Record<string, string>;\n    editable?: boolean | 'never';\n    title?: string;\n    type?: 'string' | 'boolean' | 'numeric' | 'icon' | 'oid' | 'color';\n    subField?: string;\n    subLookup?: Record<string, string>;\n    subStyle?: Record<string, any>;\n}\n\ninterface TreeTableProps {\n    data: Record<string, any>[];\n    className?: string;\n    /** name of table to save settings in localStorage */\n    name?: string;\n    columns: Column[];\n    noSort?: boolean;\n    onUpdate?: ((newData: Record<string, any>, oldData: Record<string, any>) => void) | ((addNew: true) => void);\n    onDelete?: (oldData: Record<string, any>) => void;\n    /** hide add button */\n    noAdd?: boolean;\n    themeType?: string;\n    glowOnChange?: boolean;\n    /** only if an oid type is used */\n    socket?: Connection;\n    /** Shift in pixels for every level */\n    levelShift?: number;\n    adapterName: string;\n    theme: IobTheme;\n}\n\ninterface TreeTableState {\n    opened: string[];\n    editMode: number | false;\n    deleteMode: number | false;\n    editData: Record<string, any> | null;\n    order: 'desc' | 'asc';\n    update: string[] | null;\n    orderBy: string;\n    showSelectColor: boolean;\n    selectIdValue?: string | null;\n    showSelectId?: boolean;\n    data?: Record<string, any>[];\n}\n\nexport class TreeTable extends Component<TreeTableProps, TreeTableState> {\n    private selectCallback: ((selected: string) => void) | null = null;\n\n    private updateTimeout: ReturnType<typeof setTimeout> | null = null;\n\n    constructor(props: TreeTableProps) {\n        super(props);\n\n        let opened =\n            ((window as any)._localStorage || window.localStorage).getItem(this.props.name || 'iob-table') || '[]';\n        try {\n            opened = JSON.parse(opened) || [];\n        } catch {\n            opened = [];\n        }\n        if (!Array.isArray(opened)) {\n            opened = [];\n        }\n\n        this.state = {\n            opened,\n            editMode: false,\n            deleteMode: false,\n            editData: null,\n            order: 'asc',\n            update: null,\n            orderBy: this.props.columns[0].field,\n            showSelectColor: false,\n        };\n    }\n\n    static getDerivedStateFromProps(props: TreeTableProps, state: TreeTableState): Partial<TreeTableState> {\n        if (props.glowOnChange) {\n            const update: string[] = [];\n            let count = 0;\n            if (props.data && state.data) {\n                props.data.forEach(line => {\n                    count++;\n                    const oldLine = state.data?.find(it => it.id === line.id);\n                    if (oldLine) {\n                        if (JSON.stringify(oldLine) !== JSON.stringify(line)) {\n                            update.push(line.id);\n                        }\n                    } else {\n                        update.push(line.id);\n                    }\n                });\n            }\n\n            if (update.length && update.length !== count) {\n                return { data: props.data, update };\n            }\n            return { data: props.data };\n        }\n\n        return { data: props.data };\n    }\n\n    renderCellEdit(item: Record<string, any>, col: Column): JSX.Element | null {\n        let val = getAttr(item, col.field);\n        if (Array.isArray(val)) {\n            val = val[0];\n        }\n\n        if (col.lookup) {\n            return this.renderCellEditSelect(col, val);\n        }\n        if (col.editComponent) {\n            return this.renderCellEditCustom(col, val, item);\n        }\n        if (col.type === 'boolean' || (!col.type && typeof val === 'boolean')) {\n            return this.renderCellEditBoolean(col, val);\n        }\n        if (col.type === 'color') {\n            return this.renderCellEditColor(col, val);\n        }\n        if (col.type === 'oid') {\n            return this.renderCellEditObjectID(col, val);\n        }\n        if (col.type === 'numeric') {\n            return this.renderCellEditNumber(col, val);\n        }\n\n        return this.renderCellEditString(col, val);\n    }\n\n    onChange(col: Column, oldValue: string | number | boolean, newValue: string | number | boolean): void {\n        const editData = this.state.editData ? { ...this.state.editData } : {};\n        if (newValue === oldValue) {\n            delete editData[col.field];\n        } else {\n            editData[col.field] = newValue;\n        }\n        this.setState({ editData });\n    }\n\n    renderCellEditSelect(col: Column, val: string | number): JSX.Element {\n        return (\n            <Select\n                variant=\"standard\"\n                onChange={e => this.onChange(col, val, e.target.value)}\n                value={(this.state.editData && this.state.editData[col.field]) || val}\n            >\n                {col.lookup &&\n                    Object.keys(col.lookup).map((v, i) => (\n                        <MenuItem\n                            key={i}\n                            value={v}\n                        >\n                            {col.lookup?.[v]}\n                        </MenuItem>\n                    ))}\n            </Select>\n        );\n    }\n\n    renderCellEditString(col: Column, val: string): JSX.Element {\n        return (\n            <TextField\n                variant=\"standard\"\n                style={styles.fieldEdit}\n                fullWidth\n                value={\n                    this.state.editData && this.state.editData[col.field] !== undefined\n                        ? this.state.editData[col.field]\n                        : val\n                }\n                onChange={e => this.onChange(col, val, e.target.value)}\n            />\n        );\n    }\n\n    renderCellEditNumber(col: Column, val: number): JSX.Element {\n        return (\n            <TextField\n                variant=\"standard\"\n                style={styles.fieldEdit}\n                type=\"number\"\n                fullWidth\n                value={\n                    this.state.editData && this.state.editData[col.field] !== undefined\n                        ? this.state.editData[col.field]\n                        : val\n                }\n                onChange={e => this.onChange(col, val, e.target.value)}\n            />\n        );\n    }\n\n    renderCellEditCustom(col: Column, val: any, item: Record<string, any>): JSX.Element | null {\n        const EditComponent = col.editComponent;\n\n        // use new value if exists\n        if (this.state.editData && this.state.editData[col.field] !== undefined) {\n            val = this.state.editData[col.field];\n            item = JSON.parse(JSON.stringify(item));\n            item[col.field] = val;\n        }\n\n        return EditComponent ? (\n            <EditComponent\n                value={val}\n                rowData={item}\n                onChange={(newVal: any) => this.onChange(col, val, newVal as string | number)}\n            />\n        ) : null;\n    }\n\n    renderCellEditBoolean(col: Column, val: boolean): JSX.Element {\n        return (\n            <Checkbox\n                checked={\n                    this.state.editData && this.state.editData[col.field] !== undefined\n                        ? !!this.state.editData[col.field]\n                        : !!val\n                }\n                onChange={e => this.onChange(col, !!val, e.target.checked)}\n                inputProps={{ 'aria-label': 'checkbox' }}\n            />\n        );\n    }\n\n    renderSelectColorDialog(): JSX.Element {\n        return (\n            <Dialog\n                sx={{\n                    '& .MuiPaper-root': styles.root,\n                    '& .MuiPaper-paper': styles.paper,\n                }}\n                onClose={() => {\n                    this.selectCallback = null;\n                    this.setState({ showSelectColor: false });\n                }}\n                open={this.state.showSelectColor}\n            >\n                <ColorPicker\n                    color={this.state.selectIdValue}\n                    onChange={color =>\n                        this.setState({ selectIdValue: color }, () => {\n                            if (this.selectCallback) {\n                                this.selectCallback(color);\n                            }\n                        })\n                    }\n                />\n            </Dialog>\n        );\n    }\n\n    renderCellEditColor(col: Column, val: string): JSX.Element {\n        const _val =\n            this.state.editData && this.state.editData[col.field] !== undefined ? this.state.editData[col.field] : val;\n        return (\n            <div style={styles.fieldEdit}>\n                <TextField\n                    variant=\"standard\"\n                    fullWidth\n                    style={styles.fieldEditWithButton}\n                    value={_val}\n                    inputProps={{ style: { backgroundColor: _val, color: Utils.isUseBright(_val) ? '#FFF' : '#000' } }}\n                    onChange={e => this.onChange(col, !!val, e.target.value)}\n                />\n\n                <IconButton\n                    style={styles.fieldButton}\n                    onClick={() => {\n                        this.selectCallback = newColor => this.onChange(col, val, newColor);\n                        this.setState({ showSelectColor: true, selectIdValue: val });\n                    }}\n                    size=\"large\"\n                >\n                    <IconColor />\n                </IconButton>\n            </div>\n        );\n    }\n\n    renderSelectIdDialog(): JSX.Element | null {\n        if (this.state.showSelectId && this.props.socket) {\n            return (\n                <DialogSelectID\n                    key=\"tableSelect\"\n                    imagePrefix=\"../..\"\n                    dialogName={this.props.adapterName}\n                    themeType={this.props.themeType}\n                    theme={this.props.theme}\n                    socket={this.props.socket}\n                    selected={this.state.selectIdValue}\n                    onClose={() => this.setState({ showSelectId: false })}\n                    onOk={(selected: string | string[] | undefined) => {\n                        this.setState({ showSelectId: false, selectIdValue: null });\n                        const selectedStr: string | undefined = Array.isArray(selected) ? selected[0] : selected;\n                        if (selectedStr && this.selectCallback) {\n                            this.selectCallback && this.selectCallback(selectedStr);\n                            this.selectCallback = null;\n                        }\n                    }}\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderCellEditObjectID(col: Column, val: string): JSX.Element {\n        return (\n            <div style={styles.fieldEdit}>\n                <TextField\n                    variant=\"standard\"\n                    fullWidth\n                    style={styles.fieldEditWithButton}\n                    value={\n                        this.state.editData && this.state.editData[col.field] !== undefined\n                            ? this.state.editData[col.field]\n                            : val\n                    }\n                    onChange={e => this.onChange(col, val, e.target.value)}\n                />\n\n                <IconButton\n                    style={styles.fieldButton}\n                    onClick={() => {\n                        this.selectCallback = selected => this.onChange(col, val, selected);\n                        this.setState({ showSelectId: true, selectIdValue: val });\n                    }}\n                    size=\"large\"\n                >\n                    <IconList />\n                </IconButton>\n            </div>\n        );\n    }\n\n    static renderCellNonEdit(item: Record<string, any>, col: Column): JSX.Element | string | number | null {\n        let val = getAttr(item, col.field, col.lookup);\n        if (Array.isArray(val)) {\n            val = val[0];\n        }\n\n        if (col.type === 'boolean') {\n            return (\n                <Checkbox\n                    checked={!!val}\n                    disabled\n                    inputProps={{ 'aria-label': 'checkbox' }}\n                />\n            );\n        }\n\n        return val;\n    }\n\n    renderCell(item: Record<string, any>, col: Column, level: number, i: number): JSX.Element {\n        if (this.state.editMode === i && col.editable !== 'never' && col.editable !== false) {\n            return (\n                <TableCell\n                    key={col.field}\n                    style={{ ...styles.cell, ...(level ? styles.cellSecondary : undefined), ...col.cellStyle }}\n                    component=\"th\"\n                >\n                    {this.renderCellEdit(item, col)}\n                </TableCell>\n            );\n        }\n        return (\n            <TableCell\n                key={col.field}\n                style={{ ...styles.cell, ...(level ? styles.cellSecondary : undefined), ...col.cellStyle }}\n                component=\"th\"\n            >\n                {TreeTable.renderCellNonEdit(item, col)}\n            </TableCell>\n        );\n    }\n\n    static renderCellWithSubField(item: Record<string, any>, col: Column): JSX.Element {\n        const main = getAttr(item, col.field, col.lookup);\n        if (col.subField) {\n            const sub = getAttr(item, col.subField, col.subLookup);\n            return (\n                <div>\n                    <div style={styles.mainText}>{main}</div>\n                    <div style={{ ...styles.subText, ...(col.subStyle || undefined) }}>{sub}</div>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <div style={styles.mainText}>{main}</div>\n            </div>\n        );\n    }\n\n    renderLine(item: Record<string, any>, level?: number): JSX.Element | JSX.Element[] | null {\n        const levelShift = this.props.levelShift === undefined ? 24 : this.props.levelShift;\n\n        level = level || 0;\n        const i = this.props.data.indexOf(item);\n        if (!item) {\n            return null;\n        }\n        if (!level && item.parentId) {\n            return null;\n        }\n        if (level && !item.parentId) {\n            return null; // should never happen\n        }\n        // try to find children\n        const opened = this.state.opened.includes(item.id);\n        const children = this.props.data.filter(it => it.parentId === item.id);\n\n        const row = (\n            <TableRow\n                key={item.id}\n                className={`table-row-${(item.id || '').toString().replace(/[.$]/g, '_')}`}\n                style={{\n                    ...((this.state.update && this.state.update.includes(item.id) && styles.glow) || undefined),\n                    ...styles.row,\n                    ...(level ? styles.rowSecondary : undefined),\n                    ...(!level && children.length ? styles.rowMainWithChildren : undefined),\n                    ...(!level && !children.length ? styles.rowMainWithoutChildren : undefined),\n                    ...(this.state.editMode !== false && this.state.editMode !== i ? styles.rowNoEdit : undefined),\n                    ...(this.state.deleteMode !== false && this.state.deleteMode !== i ? styles.rowNoEdit : undefined),\n                }}\n            >\n                <TableCell\n                    style={{ ...styles.cell, ...styles.cellExpand, ...(level ? styles.cellSecondary : undefined) }}\n                >\n                    {children.length ? (\n                        <IconButton\n                            onClick={() => {\n                                const _opened = [...this.state.opened];\n                                const pos = _opened.indexOf(item.id);\n                                if (pos === -1) {\n                                    _opened.push(item.id);\n                                    _opened.sort();\n                                } else {\n                                    _opened.splice(pos, 1);\n                                }\n\n                                ((window as any)._localStorage || window.localStorage).setItem(\n                                    this.props.name || 'iob-table',\n                                    JSON.stringify(_opened),\n                                );\n\n                                this.setState({ opened: _opened });\n                            }}\n                            size=\"small\"\n                        >\n                            {opened ? <IconCollapse /> : <IconExpand />}\n                        </IconButton>\n                    ) : null}\n                </TableCell>\n                <TableCell\n                    scope=\"row\"\n                    style={{\n                        ...styles.cell,\n                        ...(level ? styles.cellSecondary : undefined),\n                        ...this.props.columns[0].cellStyle,\n                        paddingLeft: levelShift * level,\n                    }}\n                >\n                    {this.props.columns[0].subField\n                        ? TreeTable.renderCellWithSubField(item, this.props.columns[0])\n                        : getAttr(item, this.props.columns[0].field, this.props.columns[0].lookup)}\n                </TableCell>\n\n                {this.props.columns.map((col, ii) =>\n                    !ii && !col.hidden ? null : this.renderCell(item, col, level, i),\n                )}\n\n                {this.props.onUpdate ? (\n                    <TableCell style={{ ...styles.cell, ...styles.cellButton }}>\n                        {this.state.editMode === i || this.state.deleteMode === i ? (\n                            <IconButton\n                                disabled={\n                                    this.state.editMode !== false &&\n                                    (!this.state.editData || !Object.keys(this.state.editData).length)\n                                }\n                                onClick={() => {\n                                    if (this.state.editMode !== false) {\n                                        const newData = JSON.parse(JSON.stringify(item));\n                                        this.state.editData &&\n                                            Object.keys(this.state.editData).forEach(attr =>\n                                                setAttr(newData, attr, this.state.editData?.[attr]),\n                                            );\n                                        this.setState(\n                                            { editMode: false },\n                                            () => this.props.onUpdate && this.props.onUpdate(newData, item),\n                                        );\n                                    } else {\n                                        this.setState(\n                                            { deleteMode: false },\n                                            () => this.props.onDelete && this.props.onDelete(item),\n                                        );\n                                    }\n                                }}\n                                size=\"large\"\n                            >\n                                <IconCheck />\n                            </IconButton>\n                        ) : (\n                            <IconButton\n                                disabled={this.state.editMode !== false}\n                                onClick={() => this.setState({ editMode: i, editData: null })}\n                                size=\"large\"\n                            >\n                                <IconEdit />\n                            </IconButton>\n                        )}\n                    </TableCell>\n                ) : null}\n\n                {this.props.onDelete && !this.props.onUpdate ? (\n                    <TableCell style={{ ...styles.cell, ...styles.cellButton }}>\n                        {this.state.deleteMode === i ? (\n                            <IconButton\n                                disabled={\n                                    this.state.editMode !== false &&\n                                    (!this.state.editData || !Object.keys(this.state.editData).length)\n                                }\n                                onClick={() =>\n                                    this.setState(\n                                        { deleteMode: false },\n                                        () => this.props.onDelete && this.props.onDelete(item),\n                                    )\n                                }\n                                size=\"large\"\n                            >\n                                <IconCheck />\n                            </IconButton>\n                        ) : null}\n                    </TableCell>\n                ) : null}\n\n                {this.props.onUpdate || this.props.onDelete ? (\n                    <TableCell style={{ ...styles.cell, ...styles.cellButton }}>\n                        {this.state.editMode === i || this.state.deleteMode === i ? (\n                            <IconButton\n                                onClick={() => this.setState({ editMode: false, deleteMode: false })}\n                                size=\"large\"\n                            >\n                                <IconClose />\n                            </IconButton>\n                        ) : this.props.onDelete ? (\n                            <IconButton\n                                disabled={this.state.deleteMode !== false}\n                                onClick={() => this.setState({ deleteMode: i })}\n                                size=\"large\"\n                            >\n                                <IconDelete />\n                            </IconButton>\n                        ) : null}\n                    </TableCell>\n                ) : null}\n            </TableRow>\n        );\n\n        if (!level && opened) {\n            const items: JSX.Element[] = children.map(it => this.renderLine(it, level + 1)) as JSX.Element[];\n            items.unshift(row);\n            return items;\n        }\n        return row;\n    }\n\n    handleRequestSort(property: string): void {\n        const isAsc = this.state.orderBy === property && this.state.order === 'asc';\n        this.setState({ order: isAsc ? 'desc' : 'asc', orderBy: property });\n    }\n\n    renderHead(): JSX.Element {\n        return (\n            <TableHead>\n                <TableRow key=\"headerRow\">\n                    <TableCell\n                        component=\"th\"\n                        sx={Utils.getStyle(this.props.theme, styles.cell, styles.cellHeader, styles.cellExpand)}\n                    />\n                    <TableCell\n                        component=\"th\"\n                        sx={Utils.getStyle(\n                            this.props.theme,\n                            styles.cell,\n                            styles.cellHeader,\n                            styles[`width_${this.props.columns[0].field.replace(/\\./g, '_')}`],\n                        )}\n                        style={this.props.columns[0].headerStyle || this.props.columns[0].cellStyle}\n                        sortDirection={\n                            this.props.noSort\n                                ? false\n                                : this.state.orderBy === this.props.columns[0].field\n                                  ? this.state.order\n                                  : false\n                        }\n                    >\n                        {this.props.noSort ? null : (\n                            <TableSortLabel\n                                active={this.state.orderBy === this.props.columns[0].field}\n                                direction={\n                                    this.state.orderBy === this.props.columns[0].field ? this.state.order : 'asc'\n                                }\n                                onClick={() => this.handleRequestSort(this.props.columns[0].field)}\n                            >\n                                {this.props.columns[0].title || this.props.columns[0].field}\n                                {this.state.orderBy === this.props.columns[0].field ? (\n                                    <span style={styles.visuallyHidden}>\n                                        {this.state.order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        )}\n                    </TableCell>\n                    {this.props.columns.map((col, i) =>\n                        !i && !col.hidden ? null : (\n                            <TableCell\n                                key={col.field}\n                                sx={Utils.getStyle(\n                                    this.props.theme,\n                                    styles.cell,\n                                    styles.cellHeader,\n                                    styles[`width_${col.field.replace(/\\./g, '_')}`],\n                                )}\n                                style={col.headerStyle || col.cellStyle}\n                                component=\"th\"\n                            >\n                                {this.props.noSort ? null : (\n                                    <TableSortLabel\n                                        active={this.state.orderBy === col.field}\n                                        direction={this.state.orderBy === col.field ? this.state.order : 'asc'}\n                                        onClick={() => this.handleRequestSort(col.field)}\n                                    >\n                                        {col.title || col.field}\n                                        {this.state.orderBy === col.field ? (\n                                            <span style={styles.visuallyHidden}>\n                                                {this.state.order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                )}\n                            </TableCell>\n                        ),\n                    )}\n                    {this.props.onUpdate ? (\n                        <TableCell\n                            component=\"th\"\n                            sx={Utils.getStyle(this.props.theme, styles.cell, styles.cellHeader, styles.cellButton)}\n                        >\n                            {!this.props.noAdd ? (\n                                <Fab\n                                    color=\"primary\"\n                                    size=\"small\"\n                                    disabled={this.state.editMode !== false}\n                                    onClick={() =>\n                                        this.props.onUpdate && (this.props.onUpdate as (addNew: true) => void)(true)\n                                    }\n                                >\n                                    <IconAdd />\n                                </Fab>\n                            ) : null}\n                        </TableCell>\n                    ) : null}\n                    {this.props.onDelete || this.props.onUpdate ? (\n                        <TableCell\n                            component=\"th\"\n                            sx={Utils.getStyle(this.props.theme, styles.cell, styles.cellHeader, styles.cellButton)}\n                        />\n                    ) : null}\n                </TableRow>\n            </TableHead>\n        );\n    }\n\n    render(): JSX.Element | null {\n        const col = this.props.columns.find(_col => _col.field === this.state.orderBy);\n        if (col) {\n            const lookup = col.lookup;\n            const table = stableSort(this.props.data, getComparator(this.state.order, this.state.orderBy, lookup));\n\n            if (this.state.update && this.state.update.length) {\n                this.updateTimeout && clearTimeout(this.updateTimeout);\n                this.updateTimeout = setTimeout(() => {\n                    this.updateTimeout = null;\n                    this.setState({ update: null });\n                }, 500);\n            }\n\n            return (\n                <div\n                    style={styles.tableContainer}\n                    className={this.props.className}\n                >\n                    <Table\n                        style={styles.table}\n                        aria-label=\"simple table\"\n                        size=\"small\"\n                        stickyHeader\n                    >\n                        {this.renderHead()}\n                        <TableBody>{table.map(it => this.renderLine(it))}</TableBody>\n                    </Table>\n                    {this.renderSelectIdDialog()}\n                    {this.renderSelectColorDialog()}\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n/*\nconst columns = [\n    {\n        title: 'Name of field', // required, else it will be \"field\"\n        field: 'fieldIdInData', // required\n        editable: false,        // or true [default - true]\n        cellStyle: {            // CSS style - // optional\n            maxWidth: '12rem',\n            overflow: 'hidden',\n            wordBreak: 'break-word'\n        },\n        lookup: {               // optional => edit will be automatically \"SELECT\"\n            'value1': 'text1',\n            'value2': 'text2',\n        }\n    },\n    {\n        title: 'Type',          // required, else it will be \"field\"\n        field: 'myType',        // required\n        editable: true,         // or true [default - true]\n        lookup: {               // optional => edit will be automatically \"SELECT\"\n            'number': 'Number',\n            'string': 'String',\n            'boolean': 'Boolean',\n        },\n        type: 'number/string/color/oid/icon/boolean', // oid=ObjectID,icon=base64-icon\n        editComponent: props =>\n            <div>Prefix&#123; <br/>\n                <textarea\n                    rows={4}\n                    style={{width: '100%', resize: 'vertical'}}\n                    value={props.value}\n                    onChange={e => props.onChange(e.target.value)}\n                />\n                Suffix\n            </div>,\n    },\n];\n*/\n/* const data = [\n    {\n        id: 'UniqueID1' // required\n        fieldIdInData: 'Name1',\n        myType: 'number',\n    },\n    {\n        id: 'UniqueID2' // required\n        fieldIdInData: 'Name12',\n        myType: 'string',\n    },\n];\n */\n\n/*\n// STYLES\nconst styles = theme => ({\n    tableDiv: {\n        width: '100%',\n        overflow: 'hidden',\n        height: 'calc(100% - 48px)',\n    },\n});\n// renderTable\nrenderTable() {\n    return <div style={styles.tableDiv}>\n        <TreeTable\n            columns={this.columns}\n            data={lines}\n            onUpdate={(newData, oldData) => console.log('Update: ' + JSON.stringify(newData))}\n            onDelete={oldData => console.log('Delete: ' + JSON.stringify(oldData))}\n        />\n    </div>;\n}\n */\n"]}