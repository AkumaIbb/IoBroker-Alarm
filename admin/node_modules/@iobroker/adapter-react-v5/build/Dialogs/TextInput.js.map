{"version":3,"file":"TextInput.js","sourceRoot":"./src/","sources":["Dialogs/TextInput.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAmB,MAAM,OAAO,CAAC;AAExC,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,iBAAiB,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAExH,OAAO,EAAE,KAAK,IAAI,SAAS,EAAE,KAAK,IAAI,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAE7E,OAAO,EAAE,IAAI,EAAE,MAAM,SAAS,CAAC;AAC/B,OAAO,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAC;AA6BpD,SAAS,aAAa,CAAC,KAAqB;IACxC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAS,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IACjF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAmB,EAAE,CAAC,CAAC;IAC/D,OAAO,CACH,oBAAC,MAAM,IACH,IAAI,EAAE,CAAC,CAAC,EACR,OAAO,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,qBAClB,mBAAmB,EACnC,SAAS,EAAE,KAAK,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK;QAElE,oBAAC,WAAW,IAAC,EAAE,EAAC,mBAAmB,IAAE,KAAK,CAAC,SAAS,CAAe;QACnE,oBAAC,aAAa;YACV,oBAAC,iBAAiB,QAAE,KAAK,CAAC,UAAU,CAAqB;YACzD,oBAAC,SAAS,IACN,OAAO,EAAC,UAAU,EAClB,SAAS,QACT,MAAM,EAAC,OAAO,EACd,KAAK,EAAE,CAAC,CAAC,KAAK,EACd,UAAU,EAAE,KAAK,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EACjD,KAAK,EAAE,IAAI,EACX,KAAK,EAAE,KAAK,CAAC,SAAS,IAAI,EAAE,EAC5B,IAAI,EAAE,KAAK,CAAC,IAAI,IAAI,MAAM,EAC1B,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAC/D,QAAQ,EAAE,CAAC,CAAC,EAAE;oBACV,IAAI,MAAM,GAAqB,EAAE,CAAC;oBAClC,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;wBACf,MAAM,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC3C,CAAC;oBAED,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;wBACb,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;oBACxC,CAAC;yBAAM,CAAC;wBACJ,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC5B,CAAC;oBACD,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACrB,CAAC,EACD,SAAS,SACX,CACU;QAChB,oBAAC,aAAa;YACV,oBAAC,MAAM,IACH,OAAO,EAAC,WAAW,EACnB,QAAQ,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,EAC1B,OAAO,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAClC,KAAK,EAAC,SAAS,EACf,SAAS,EAAE,oBAAC,SAAS,OAAG,IAEvB,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAC9B;YACT,oBAAC,MAAM,IACH,KAAK,EAAC,MAAM,EACZ,OAAO,EAAC,WAAW,EACnB,OAAO,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAClC,SAAS,EAAE,oBAAC,SAAS,OAAG,IAEvB,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CACnC,CACG,CACX,CACZ,CAAC;AACN,CAAC;AAED,MAAM,CAAC,MAAM,eAAe,GAAG,SAAS,EAAE,CAAC,aAAa,CAAC,CAAC","sourcesContent":["import React, { type JSX } from 'react';\n\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@mui/material';\n\nimport { Close as IconClose, Check as IconCheck } from '@mui/icons-material';\n\nimport { I18n } from '../i18n';\nimport { withWidth } from '../Components/withWidth';\n\ninterface TextInputProps {\n    /** The dialog close callback */\n    onClose: (text: string | null) => void;\n    /** The title text */\n    titleText: string;\n    /** Prompt text (default: empty) */\n    promptText?: string;\n    /** Label text (default: empty) */\n    labelText?: string;\n    /** The text of the cancel button */\n    cancelText: string;\n    /** The text of the \"apply\" button */\n    applyText: string;\n    /** The verification callback. Return a non-empty string if there was an error */\n    verify?: (text: string) => string;\n    /** The text replacement callback */\n    rule?: (text: string) => string;\n    /** The type of the textbox (default: text) */\n    type?: 'text' | 'number' | 'password' | 'email';\n    /** The initial input value when opening the dialog */\n    value?: string;\n    /** @deprecated Use value. The input when opening the dialog */\n    input?: string;\n    /** If true, the dialog will be full width */\n    fullWidth?: boolean;\n}\n\nfunction TextInputFunc(props: TextInputProps): JSX.Element {\n    const [text, setText] = React.useState<string>(props.input || props.value || '');\n    const [error, setError] = React.useState<string | boolean>('');\n    return (\n        <Dialog\n            open={!0}\n            onClose={() => props.onClose(null)}\n            aria-labelledby=\"form-dialog-title\"\n            fullWidth={props.fullWidth !== undefined ? props.fullWidth : false}\n        >\n            <DialogTitle id=\"form-dialog-title\">{props.titleText}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>{props.promptText}</DialogContentText>\n                <TextField\n                    variant=\"standard\"\n                    autoFocus\n                    margin=\"dense\"\n                    error={!!error}\n                    helperText={error === true || !error ? '' : error}\n                    value={text}\n                    label={props.labelText || ''}\n                    type={props.type || 'text'}\n                    onKeyUp={e => e.code === 'Enter' && text && props.onClose(text)}\n                    onChange={e => {\n                        let _error: string | boolean = '';\n                        if (props.verify) {\n                            _error = !props.verify(e.target.value);\n                        }\n\n                        if (props.rule) {\n                            setText(props.rule(e.target.value));\n                        } else {\n                            setText(e.target.value);\n                        }\n                        setError(_error);\n                    }}\n                    fullWidth\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    disabled={!text || !!error}\n                    onClick={() => props.onClose(text)}\n                    color=\"primary\"\n                    startIcon={<IconCheck />}\n                >\n                    {props.applyText || I18n.t('ra_Ok')}\n                </Button>\n                <Button\n                    color=\"grey\"\n                    variant=\"contained\"\n                    onClick={() => props.onClose(null)}\n                    startIcon={<IconClose />}\n                >\n                    {props.cancelText || I18n.t('ra_Cancel')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport const DialogTextInput = withWidth()(TextInputFunc);\n"]}