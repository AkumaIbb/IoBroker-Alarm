{"version":3,"file":"SelectID.js","sourceRoot":"./src/","sources":["Dialogs/SelectID.tsx"],"names":[],"mappings":"AAAA;;;;;GAKG;AACH,OAAO,KAAK,EAAE,EAAE,SAAS,EAAY,MAAM,OAAO,CAAC;AAEnD,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAE1F,OAAO,EAAE,MAAM,IAAI,UAAU,EAAE,KAAK,IAAI,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAI5E,OAAO,EAAE,IAAI,EAAE,MAAM,SAAS,CAAC;AAC/B,OAAO,EACH,aAAa,GAIhB,MAAM,6BAA6B,CAAC;AA2FrC,MAAM,OAAO,cAAe,SAAQ,SAAmD;IAClE,UAAU,CAAS;IAE5B,OAAO,CAAsB;IAEpB,UAAU,CAAqC;IAEhE,YAAY,KAA0B;QAClC,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,SAAS,CAAC;QACrD,IAAI,CAAC,UAAU,GAAG,YAAY,IAAI,CAAC,UAAU,EAAE,CAAC;QAEhD,MAAM,OAAO,GAAW,CAAE,MAAc,CAAC,aAAa,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;QAEhH,IAAI,CAAC;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC;QAAC,MAAM,CAAC;YACL,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QACtB,CAAC;QAED,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,IAAI,CAAC,OAAO,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,EAAE,CAAC,EAAE,CAAC;QACjE,CAAC;QAED,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC;QACzC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC3B,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC1B,CAAC;QACD,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAErC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC;YACnB,IAAI,OAAO,KAAK,CAAC,UAAU,KAAK,QAAQ,EAAE,CAAC;gBACvC,IAAI,CAAC;oBACD,IAAI,CAAC,UAAU,GAAG,IAAI,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAsC,CAAC;gBACjG,CAAC;gBAAC,MAAM,CAAC;oBACL,OAAO,CAAC,KAAK,CAAC,yCAAyC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC;oBAC5E,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAChC,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;YACvC,CAAC;QACL,CAAC;QAED,IAAI,CAAC,KAAK,GAAG;YACT,QAAQ;YACR,IAAI,EAAE,EAAE;YACR,gBAAgB,EAAE,KAAK;SAC1B,CAAC;IACN,CAAC;IAED,YAAY;QACR,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC9G,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,MAAM;QACF,IAAI,KAAK,CAAC;QACV,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAChD,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACnC,KAAK,GAAG;oBACJ,8BAAM,GAAG,EAAC,UAAU;wBACf,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;iCAEnB;oBACP,8BACI,GAAG,EAAC,IAAI,EACR,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,IAEjD,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACxC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CACxD;iBACV,CAAC;YACN,CAAC;iBAAM,CAAC;gBACJ,KAAK,GAAG;oBACJ,8BAAM,GAAG,EAAC,UAAU;wBACf,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;iCAEnB;oBACP,8BACI,GAAG,EAAC,IAAI,EACR,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,IAEjD,IAAI,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CACvD;iBACV,CAAC;YACN,CAAC;QACL,CAAC;aAAM,CAAC;YACJ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,+BAA+B,CAAC,CAAC;QACxE,CAAC;QAED,OAAO,CACH,oBAAC,MAAM,IACH,OAAO,EAAE,GAAG,EAAE,GAAE,CAAC,EACjB,QAAQ,EAAE,KAAK,EACf,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,EAAE,EACjD,EAAE,EAAE;gBACA,oBAAoB,EAAE;oBAClB,MAAM,EAAE,KAAK;oBACb,CAAC,EAAE,KAAK;oBACR,KAAK,EAAE,MAAM;oBACb,QAAQ,EAAE,MAAM;oBAChB,SAAS,EAAE,mBAAmB;iBACjC;aACJ,EACD,SAAS,QACT,IAAI,EAAE,CAAC,CAAC,qBACQ,0BAA0B;YAE1C,oBAAC,WAAW,IACR,EAAE,EAAC,0BAA0B,EAC7B,KAAK,EAAE;oBACH,UAAU,EAAE,QAAQ;oBACpB,KAAK,EAAE,mBAAmB;oBAC1B,QAAQ,EAAE,QAAQ;oBAClB,OAAO,EAAE,cAAc;oBACvB,YAAY,EAAE,UAAU;iBAC3B,IAEA,KAAK,CACI;YACd,oBAAC,aAAa,IACV,KAAK,EAAE;oBACH,MAAM,EAAE,MAAM;oBACd,QAAQ,EAAE,QAAQ;oBAClB,OAAO,EAAE,SAAS;iBACrB;gBAED,oBAAC,aAAa,IACV,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EACrC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EACxD,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EACjC,cAAc,EAAE,IAAI,CAAC,OAAO,EAC5B,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EACrC,gBAAgB,EACZ,IAAI,CAAC,KAAK,CAAC,gBAAgB,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,EAElF,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;oBACjC,4CAA4C;oBAC5C,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,EAC9E,KAAK,EACD,IAAI,CAAC,KAAK,CAAC,KAAK;wBACZ,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;4BAC7B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;4BAClB,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;wBACxB,CAAC,CAAC,CAAC,OAAO,CAAC,EAEnB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EACrB,CAAC,EAAE,IAAI,CAAC,CAAC,EACT,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE,EAC3C,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EACzB,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAC7B,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EACnC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW;oBACjF,yBAAyB;oBACzB,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAC/B,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAC/B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EACrC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAC3C,eAAe,EAAE,CAAC,YAAiC,EAAE,EAAE;wBACnD,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC;wBAC5B,CAAE,MAAc,CAAC,aAAa,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAC1D,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAC/B,CAAC;oBACN,CAAC,EACD,QAAQ,EAAE,KAAK,EACX,SAA4B,EAC5B,IAAmB,EACnB,QAAkB,EACL,EAAE;wBACf,IAAI,QAAkB,CAAC;wBACvB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;4BAC5B,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC;wBAC3B,CAAC;6BAAM,CAAC;4BACJ,QAAQ,GAAG,SAAS,CAAC;wBACzB,CAAC;wBAED,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC;4BACnE,IAAI,gBAAgB,GAAG,IAAI,CAAC;4BAC5B,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;gCAC7B,MAAM,OAAO,GAAuD,EAAE,CAAC;gCACvE,KAAK,MAAM,EAAE,IAAI,QAAQ,EAAE,CAAC;oCACxB,IAAI,CAAC;wCACD,OAAO,CAAC,EAAE,CAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oCACxD,CAAC;oCAAC,MAAM,CAAC;wCACL,SAAS;oCACb,CAAC;gCACL,CAAC;gCAED,gBAAgB,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;4BAC3E,CAAC;4BAED,IAAI,CAAC,QAAQ,CACT,EAAE,QAAQ,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,gBAAgB,EAAE,EACvD,GAAG,EAAE,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,CACpC,CAAC;wBACN,CAAC;6BAAM,IAAI,QAAQ,EAAE,CAAC;4BAClB,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACpB,CAAC;oBACL,CAAC,EACD,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,KAAK,EAAC,EAAE,EACR,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,GACvD,CACU;YAChB,oBAAC,aAAa;gBACV,oBAAC,MAAM,IACH,EAAE,EAAE,yBAAyB,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE,EAAE,EAC1D,OAAO,EAAC,WAAW,EACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,EAC9B,SAAS,EAAE,oBAAC,MAAM,OAAG,EACrB,QAAQ,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAC7F,KAAK,EAAC,SAAS,IAEd,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAC5B;gBACT,oBAAC,MAAM,IACH,EAAE,EAAE,6BAA6B,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE,EAAE,EAC9D,KAAK,EAAC,MAAM,EACZ,OAAO,EAAC,WAAW,EACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,EAClC,SAAS,EAAE,oBAAC,UAAU,OAAG,IAExB,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CACpC,CACG,CACX,CACZ,CAAC;IACN,CAAC;CACJ","sourcesContent":["/**\n * Copyright 2018-2025 Denis Haev (bluefox) <dogafox@gmail.com>\n *\n * MIT License\n *\n */\nimport React, { Component, type JSX } from 'react';\n\nimport { Button, DialogTitle, DialogContent, DialogActions, Dialog } from '@mui/material';\n\nimport { Cancel as IconCancel, Check as IconOk } from '@mui/icons-material';\n\nimport type { Connection } from '../Connection';\n\nimport { I18n } from '../i18n';\nimport {\n    ObjectBrowser,\n    type ObjectBrowserFilter,\n    type ObjectBrowserColumn,\n    type ObjectBrowserCustomFilter,\n} from '../Components/ObjectBrowser';\nimport type { IobTheme } from '../types';\n\nexport interface SelectIDFilters {\n    id?: string;\n    name?: string;\n    room?: string[];\n    func?: string[];\n    role?: string[];\n    type?: string[];\n    custom?: string[];\n}\n\ninterface DialogSelectIDProps {\n    /** The internal name of the dialog; default: \"default\". Used to store settings in local storage */\n    dialogName?: string;\n    /** The dialog title; default: Please select object ID... (translated) */\n    title?: string;\n    /** Set to true to allow the selection of multiple IDs. */\n    multiSelect?: boolean;\n    /** Show folders before any leaves. */\n    foldersFirst?: boolean;\n    /** Path prefix for images (default: '.') */\n    imagePrefix?: string;\n    /** @deprecated same as imagePrefix */\n    prefix?: string;\n    /** Show the expert button */\n    showExpertButton?: boolean;\n    /** Force expert mode */\n    expertMode?: boolean;\n    /** optional ['name', 'type', 'role', 'room', 'func', 'val', 'buttons'] */\n    columns?: ObjectBrowserColumn[];\n    /**  Object types to show; default: 'state' only */\n    types?: ioBroker.ObjectType | ioBroker.ObjectType[];\n    /** The language. */\n    lang?: ioBroker.Languages;\n    /** The socket connection. */\n    socket: Connection;\n    /** Can't objects be edited? (default: true) */\n    notEditable?: boolean;\n    /** Theme name. */\n    themeName?: string;\n    /** Theme type: dark or light */\n    themeType?: string;\n    /** The theme object */\n    theme: IobTheme;\n    /** The date format for the date columns */\n    dateFormat?: string;\n    /** Is use comma or point for displaying of float numbers */\n    isFloatComma?: boolean;\n    /** Custom filter. */\n    customFilter?: ObjectBrowserCustomFilter;\n    /** The selected IDs. */\n    selected?: string | string[];\n    /** The ok button text; default: OK (translated) */\n    ok?: string;\n    /** The cancel button text; default: Cancel (translated) */\n    cancel?: string;\n    /** Close handler that is always called when the dialog is closed. */\n    onClose: () => void;\n    /** Handler that is called when the user presses OK. */\n    onOk: (selected: string | string[] | undefined, name: string | null) => void;\n    /**\n     * Function to filter out all unnecessary objects. Can be string or function.\n     * It cannot be used together with \"types\".\n     * Example for function: `obj => obj.common?.type === 'boolean'` to show only boolean states\n     * In case of string, it must look like `obj.common && obj.common.type === 'boolean'`\n     */\n    filterFunc?: string | ((obj: ioBroker.Object) => boolean);\n    /** predefined filter fields, like {\"id\":\"\",\"name\":\"\",\"room\":\"\",\"func\":\"\",\"role\":\"level\",\"type\":\"\",\"custom\":\"\"} */\n    filters?: SelectIDFilters;\n    /** Show elements only of this root ID */\n    root?: string;\n    /** Allow selection of non-objects (virtual branches) */\n    allowNonObjects?: boolean;\n    /** Will be called by selection, so the decision could be done if the OK button is available or not */\n    onSelectConfirm?: (\n        selected: string | string[],\n        objects: Record<string, ioBroker.Object | null | undefined>,\n    ) => Promise<boolean>;\n    /** The z-index of the dialog; default: 1300 */\n    zIndex?: number;\n}\n\ninterface DialogSelectIDState {\n    selected: string[];\n    name: string | null;\n    selectionBlocked: boolean;\n    allLoaded?: boolean; // used to detect if all objects are loaded\n}\n\nexport class DialogSelectID extends Component<DialogSelectIDProps, DialogSelectIDState> {\n    private readonly dialogName: string;\n\n    private filters: ObjectBrowserFilter;\n\n    private readonly filterFunc?: (obj: ioBroker.Object) => boolean;\n\n    constructor(props: DialogSelectIDProps) {\n        super(props);\n        this.dialogName = this.props.dialogName || 'default';\n        this.dialogName = `SelectID.${this.dialogName}`;\n\n        const filters: string = ((window as any)._localStorage || window.localStorage).getItem(this.dialogName) || '{}';\n\n        try {\n            this.filters = JSON.parse(filters);\n        } catch {\n            this.filters = {};\n        }\n\n        if (props.filters) {\n            this.filters = { ...this.filters, ...(props.filters || {}) };\n        }\n\n        let selected = this.props.selected || [];\n        if (!Array.isArray(selected)) {\n            selected = [selected];\n        }\n        selected = selected.filter(id => id);\n\n        if (props.filterFunc) {\n            if (typeof props.filterFunc === 'string') {\n                try {\n                    this.filterFunc = new Function('obj', props.filterFunc) as (obj: ioBroker.Object) => boolean;\n                } catch {\n                    console.error(`Cannot parse filter function: \"obj => ${props.filterFunc}\"`);\n                    this.filterFunc = undefined;\n                }\n            } else {\n                this.filterFunc = props.filterFunc;\n            }\n        }\n\n        this.state = {\n            selected,\n            name: '',\n            selectionBlocked: false,\n        };\n    }\n\n    handleCancel(): void {\n        this.props.onClose();\n    }\n\n    handleOk(): void {\n        this.props.onOk(this.props.multiSelect ? this.state.selected : this.state.selected[0] || '', this.state.name);\n        this.props.onClose();\n    }\n\n    render(): JSX.Element {\n        let title;\n        if (this.state.name || this.state.selected.length) {\n            if (this.state.selected.length === 1) {\n                title = [\n                    <span key=\"selected\">\n                        {I18n.t('ra_Selected')}\n                        &nbsp;\n                    </span>,\n                    <span\n                        key=\"id\"\n                        style={{ fontWeight: 'bold', fontStyle: 'italic' }}\n                    >\n                        {(this.state.name || this.state.selected[0]) +\n                            (this.state.name ? ` [${this.state.selected[0]}]` : '')}\n                    </span>,\n                ];\n            } else {\n                title = [\n                    <span key=\"selected\">\n                        {I18n.t('ra_Selected')}\n                        &nbsp;\n                    </span>,\n                    <span\n                        key=\"id\"\n                        style={{ fontWeight: 'bold', fontStyle: 'italic' }}\n                    >\n                        {I18n.t('%s items', this.state.selected.length.toString())}\n                    </span>,\n                ];\n            }\n        } else {\n            title = this.props.title || I18n.t('ra_Please select object ID...');\n        }\n\n        return (\n            <Dialog\n                onClose={() => {}}\n                maxWidth={false}\n                style={{ zIndex: this.props.zIndex || undefined }}\n                sx={{\n                    '& .MuiDialog-paper': {\n                        height: '95%',\n                        p: '4px',\n                        width: '100%',\n                        maxWidth: '100%',\n                        maxHeight: 'calc(100% - 16px)',\n                    },\n                }}\n                fullWidth\n                open={!0}\n                aria-labelledby=\"ar_dialog_selectid_title\"\n            >\n                <DialogTitle\n                    id=\"ar_dialog_selectid_title\"\n                    style={{\n                        whiteSpace: 'nowrap',\n                        width: 'calc(100% - 72px)',\n                        overflow: 'hidden',\n                        display: 'inline-block',\n                        textOverflow: 'ellipsis',\n                    }}\n                >\n                    {title}\n                </DialogTitle>\n                <DialogContent\n                    style={{\n                        height: '100%',\n                        overflow: 'hidden',\n                        padding: '8px 4px',\n                    }}\n                >\n                    <ObjectBrowser\n                        foldersFirst={this.props.foldersFirst}\n                        imagePrefix={this.props.imagePrefix || this.props.prefix} // prefix is for back compatibility\n                        dateFormat={this.props.dateFormat}\n                        defaultFilters={this.filters}\n                        dialogName={this.dialogName}\n                        isFloatComma={this.props.isFloatComma}\n                        showExpertButton={\n                            this.props.showExpertButton !== undefined ? this.props.showExpertButton : true\n                        }\n                        expertMode={this.props.expertMode}\n                        // style={{ width: '100%', height: '100%' }}\n                        columns={this.props.columns || ['name', 'type', 'role', 'room', 'func', 'val']}\n                        types={\n                            this.props.types\n                                ? Array.isArray(this.props.types)\n                                    ? this.props.types\n                                    : [this.props.types]\n                                : ['state']\n                        }\n                        root={this.props.root}\n                        t={I18n.t}\n                        lang={this.props.lang || I18n.getLanguage()}\n                        socket={this.props.socket}\n                        selected={this.state.selected}\n                        multiSelect={this.props.multiSelect}\n                        notEditable={this.props.notEditable === undefined ? true : this.props.notEditable}\n                        // name={this.state.name}\n                        themeName={this.props.themeName}\n                        themeType={this.props.themeType}\n                        theme={this.props.theme}\n                        customFilter={this.props.customFilter}\n                        allowNonObjects={this.props.allowNonObjects}\n                        onFilterChanged={(filterConfig: ObjectBrowserFilter) => {\n                            this.filters = filterConfig;\n                            ((window as any)._localStorage || window.localStorage).setItem(\n                                this.dialogName,\n                                JSON.stringify(filterConfig),\n                            );\n                        }}\n                        onSelect={async (\n                            _selected: string | string[],\n                            name: string | null,\n                            isDouble?: boolean,\n                        ): Promise<void> => {\n                            let selected: string[];\n                            if (!Array.isArray(_selected)) {\n                                selected = [_selected];\n                            } else {\n                                selected = _selected;\n                            }\n\n                            if (JSON.stringify(selected) !== JSON.stringify(this.state.selected)) {\n                                let selectionAllowed = true;\n                                if (this.props.onSelectConfirm) {\n                                    const objects: Record<string, ioBroker.Object | null | undefined> = {};\n                                    for (const id of selected) {\n                                        try {\n                                            objects[id] = await this.props.socket.getObject(id);\n                                        } catch {\n                                            // ignore\n                                        }\n                                    }\n\n                                    selectionAllowed = await this.props.onSelectConfirm(selected, objects);\n                                }\n\n                                this.setState(\n                                    { selected, name, selectionBlocked: !selectionAllowed },\n                                    () => isDouble && this.handleOk(),\n                                );\n                            } else if (isDouble) {\n                                this.handleOk();\n                            }\n                        }}\n                        filterFunc={this.filterFunc}\n                        title=\"\"\n                        onAllLoaded={() => this.setState({ allLoaded: true })}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        id={`ar_dialog_selectid_ok_${this.props.dialogName || ''}`}\n                        variant=\"contained\"\n                        onClick={() => this.handleOk()}\n                        startIcon={<IconOk />}\n                        disabled={!this.state.allLoaded || !this.state.selected.length || this.state.selectionBlocked}\n                        color=\"primary\"\n                    >\n                        {this.props.ok || I18n.t('ra_Ok')}\n                    </Button>\n                    <Button\n                        id={`ar_dialog_selectid_cancel_${this.props.dialogName || ''}`}\n                        color=\"grey\"\n                        variant=\"contained\"\n                        onClick={() => this.handleCancel()}\n                        startIcon={<IconCancel />}\n                    >\n                        {this.props.cancel || I18n.t('ra_Cancel')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n"]}