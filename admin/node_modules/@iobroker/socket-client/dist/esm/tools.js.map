{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../src/tools.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,0BAA0B,CACtC,GAIe;IAEf,OAAO,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAY,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;AACpF,CAAC;AAED,2DAA2D;AAC3D,MAAM,UAAU,eAAe,CAAC,IAAY;IACxC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC;QACpC,IAAI,GAAG,eAAe,IAAI,EAAE,CAAC;IACjC,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,EAAU;IACzC,IAAI,EAAE,EAAE,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC;QACjC,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IACD,OAAO,EAAE,CAAC;AACd,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,IAAI,CAAC,EAAU;IAC3B,OAAO,IAAI,OAAO,CAAO,OAAO,CAAC,EAAE;QAC/B,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;AACP,CAAC;AAED,sCAAsC;AACtC,MAAM,UAAU,aAAa,CAAC,OAAe;IACzC,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;IAErC,MAAM,kBAAkB,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;IAC9C,MAAM,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC;IAE7D,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAE/E,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACrF,CAAC","sourcesContent":["export function getObjectViewResultToArray<T extends ioBroker.Object>(\n    doc:\n        | {\n              rows: ioBroker.GetObjectViewItem<T>[];\n          }\n        | undefined,\n): T[] {\n    return doc?.rows.map(item => item.value).filter((val): val is T => !!val) ?? [];\n}\n\n/** Makes sure that a host id starts with \"system.host.\" */\nexport function normalizeHostId(host: string): string {\n    if (!host?.startsWith('system.host.')) {\n        host = `system.host.${host}`;\n    }\n    return host;\n}\n\nexport function objectIdToHostname(id: string): string {\n    if (id?.startsWith('system.host.')) {\n        id = id.substring('system.host.'.length);\n    }\n    return id;\n}\n\n/**\n * Creates a promise that waits for the specified time and then resolves\n */\nexport function wait(ms: number): Promise<void> {\n    return new Promise<void>(resolve => {\n        setTimeout(resolve, ms);\n    });\n}\n\n/** Converts ioB pattern into regex */\nexport function pattern2RegEx(pattern: string): string {\n    pattern = (pattern || '').toString();\n\n    const startsWithWildcard = pattern[0] === '*';\n    const endsWithWildcard = pattern[pattern.length - 1] === '*';\n\n    pattern = pattern.replace(/[-/\\\\^$+?.()|[\\]{}]/g, '\\\\$&').replace(/\\*/g, '.*');\n\n    return (startsWithWildcard ? '' : '^') + pattern + (endsWithWildcard ? '' : '$');\n}\n"]}