{"version":3,"file":"AdminConnection.js","sourceRoot":"","sources":["../../src/AdminConnection.ts"],"names":[],"mappings":"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","sourcesContent":["import { Connection, ERRORS, type RequestOptions } from './Connection.js';\nimport type { ConnectionProps } from './ConnectionProps.js';\nimport type {\n    AdminEmitEvents,\n    AdminListenEvents,\n    CompactAdapterInfo,\n    CompactHost,\n    CompactInstalledInfo,\n    CompactInstanceInfo,\n    CompactRepository,\n    CompactSystemRepository,\n    License,\n    LogFile,\n} from './SocketEvents.js';\nimport { getObjectViewResultToArray, normalizeHostId, objectIdToHostname } from './tools.js';\n\ninterface Certificate {\n    name: string;\n    type: 'public' | 'private' | 'chained';\n}\n\n// taken from \"@iobroker/js-controller-common-db/build/lib/common/notificationHandler\"\nexport type MultilingualObject = Exclude<ioBroker.StringOrTranslated, string>;\nexport type Severity = 'info' | 'notify' | 'alert';\nexport interface NotificationMessageObject {\n    message: string;\n    ts: number;\n}\n\ntype DockerInformation =\n    | {\n          /** If it is a Docker installation */\n          isDocker: boolean;\n          /** If it is the official Docker image */\n          isOfficial: true;\n          /** Semver string for official Docker image */\n          officialVersion: string;\n      }\n    | {\n          /** If it is a Docker installation */\n          isDocker: boolean;\n          /** If it is the official Docker image */\n          isOfficial: false;\n      };\n\nexport interface HostInfo {\n    /** Converted OS for human readability */\n    Platform:\n        | 'aix'\n        | 'android'\n        | 'darwin'\n        | 'freebsd'\n        | 'haiku'\n        | 'linux'\n        | 'openbsd'\n        | 'sunos'\n        | 'win32'\n        | 'cygwin'\n        | 'netbsd'\n        | 'docker'\n        | 'Windows'\n        | 'OSX';\n    /** The underlying OS */\n    os:\n        | 'aix'\n        | 'android'\n        | 'darwin'\n        | 'freebsd'\n        | 'haiku'\n        | 'linux'\n        | 'openbsd'\n        | 'sunos'\n        | 'win32'\n        | 'cygwin'\n        | 'netbsd';\n    /** Information about the docker installation */\n    dockerInformation?: DockerInformation;\n    /** Host architecture */\n    Architecture: string;\n    /** Number of CPUs */\n    CPUs: number | null;\n    /** CPU speed */\n    Speed: number | null;\n    /** CPU model */\n    Model: string | null;\n    /** Total RAM of host */\n    RAM: number;\n    /** System uptime in seconds */\n    'System uptime': number;\n    /** Node.JS version */\n    'Node.js': string;\n    /** Current time to compare to local time */\n    time: number;\n    /** Timezone offset to compare to local time */\n    timeOffset: number;\n    /** Number of available adapters */\n    'adapters count': number;\n    /** NPM version */\n    NPM: string;\n    /** Running instances */\n    'Active instances': number;\n    /** Location on disk of iobroker folder */\n    location: string;\n    /** Uptime */\n    Uptime: number;\n    /** Free disk space */\n    'Disk free': number;\n    /** Disk size */\n    'Disk size': number;\n}\n\nexport interface AdapterInformation {\n    /** this flag is only true for the js-controller */\n    controller: boolean;\n    /** adapter version */\n    version: string;\n    /** path to icon of the adapter */\n    icon: string;\n    /** path to local icon of the adapter */\n    localIcon?: string;\n    /** title of the adapter */\n    title: string;\n    /** title of the adapter in multiple languages */\n    titleLang: ioBroker.Translated;\n    /** description of the adapter in multiple languages */\n    desc: ioBroker.Translated;\n    /** platform of the adapter */\n    platform: 'Javascript/Node.js';\n    /** keywords of the adapter */\n    keywords: string[];\n    /** path to a readme file */\n    readme: string;\n    /** The installed adapter version, not existing on controller */\n    runningVersion?: string;\n    /** type of the adapter */\n    type: string;\n    /** license of the adapter */\n    license: string;\n    /** url to license information */\n    licenseUrl?: string;\n}\n\nexport type AdapterRating = {\n    // @ts-expect-error rating is here\n    rating?: { r: number; c: number };\n    [version: string]: { r: number; c: number };\n};\nexport type AdapterRatingInfo = AdapterRating & { title: string };\n\nexport type AdapterInformationEx = AdapterInformation & {\n    installedFrom?: string;\n    enabled: number;\n    count: number;\n    ignoreVersion?: string;\n};\nexport type InstalledInfo = { [adapterName: string]: AdapterInformationEx } & {\n    hosts?: { [hostName: string]: ioBroker.HostCommon & { host: string; runningVersion: string } };\n};\n\ninterface RepositoryEntry {\n    /** Link to external icon */\n    extIcon: string;\n    /** Translated title */\n    titleLang: ioBroker.Translated;\n    [other: string]: unknown;\n}\n\n/** The ioBroker repository */\nexport type Repository = Record<string, RepositoryEntry>;\n\nexport interface FilteredNotificationInformation {\n    [scope: string]: {\n        description: MultilingualObject;\n        name: MultilingualObject;\n        categories: {\n            [category: string]: {\n                description: MultilingualObject;\n                name: MultilingualObject;\n                severity: Severity;\n                instances: {\n                    [instance: string]: {\n                        messages: NotificationMessageObject[];\n                    };\n                };\n            };\n        };\n    };\n}\n\nfunction parseCertificate(name: string, cert: string): Certificate | void {\n    if (!cert) {\n        return;\n    }\n\n    let type: Certificate['type'];\n    // If it is a filename, it could be everything\n    if (cert.length < 700 && (cert.indexOf('/') !== -1 || cert.indexOf('\\\\') !== -1)) {\n        if (name.toLowerCase().includes('private')) {\n            type = 'private';\n        } else if (cert.toLowerCase().includes('private')) {\n            type = 'private';\n        } else if (name.toLowerCase().includes('public')) {\n            type = 'public';\n        } else if (cert.toLowerCase().includes('public')) {\n            type = 'public';\n        } else if (name.toLowerCase().includes('chain')) {\n            type = 'chained';\n        } else if (cert.toLowerCase().includes('chain')) {\n            type = 'chained';\n        } else {\n            // TODO: is this correct?\n            return;\n        }\n    } else {\n        type =\n            cert.substring(0, '-----BEGIN RSA PRIVATE KEY'.length) === '-----BEGIN RSA PRIVATE KEY' ||\n            cert.substring(0, '-----BEGIN PRIVATE KEY'.length) === '-----BEGIN PRIVATE KEY'\n                ? 'private'\n                : 'public';\n\n        if (type === 'public') {\n            const m = cert.split('-----END CERTIFICATE-----');\n            if (m.filter(t => t.replace(/\\r\\n|\\r|\\n/, '').trim()).length > 1) {\n                type = 'chained';\n            }\n        }\n    }\n    return { name, type };\n}\n\nexport interface IPAddress {\n    name: string;\n    address: string;\n    family: 'ipv4' | 'ipv6';\n    internal?: boolean;\n}\n\ninterface IPAddresses {\n    IPs4: IPAddress[];\n    IPs6: IPAddress[];\n}\n\nfunction parseIPAddresses(host: ioBroker.HostObject): IPAddresses {\n    const IPs4: IPAddress[] = [\n        {\n            name: '[IPv4] 0.0.0.0 - Listen on all IPs',\n            address: '0.0.0.0',\n            family: 'ipv4',\n        },\n    ];\n    const IPs6: IPAddress[] = [\n        {\n            name: '[IPv6] :: - Listen on all IPs',\n            address: '::',\n            family: 'ipv6',\n        },\n    ];\n    if (host.native?.hardware?.networkInterfaces) {\n        const list: Record<string, ({ family: 'IPv6' | 'IPv4'; address: string }[]) | undefined> =\n            host.native?.hardware?.networkInterfaces;\n\n        Object.keys(list).forEach(inter => {\n            list[inter]?.forEach(ip => {\n                if (ip.family !== 'IPv6') {\n                    IPs4.push({\n                        name: `[${ip.family}] ${ip.address} - ${inter}`,\n                        address: ip.address,\n                        family: 'ipv4',\n                    });\n                } else {\n                    IPs6.push({\n                        name: `[${ip.family}] ${ip.address} - ${inter}`,\n                        address: ip.address,\n                        family: 'ipv6',\n                    });\n                }\n            });\n        });\n    }\n    return { IPs4, IPs6 };\n}\n\nexport class AdminConnection extends Connection<AdminListenEvents, AdminEmitEvents> {\n    constructor(props: ConnectionProps) {\n        super(props);\n    }\n\n    // We overload the request method here because the admin connection's methods all have `requireAdmin: true`\n    protected request<T>(options: RequestOptions<T>): Promise<T> {\n        return super.request<T>({ requireAdmin: true, ...options });\n    }\n\n    /**\n     * Get the stored certificates.\n     *\n     * @param update Force update.\n     */\n    getCertificates(update?: boolean): Promise<Certificate[]> {\n        return this.request({\n            cacheKey: 'cert',\n            forceUpdate: update,\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: async resolve => {\n                const obj = await this.getObject('system.certificates');\n                if (obj?.native?.certificates) {\n                    resolve(\n                        Object.entries<string>(obj.native.certificates)\n                            .map(([name, cert]) => parseCertificate(name, cert))\n                            .filter((cert): cert is Certificate => !!cert),\n                    );\n                } else {\n                    resolve([]);\n                }\n            },\n        });\n    }\n\n    /**\n     * Get the logs from a host (only for admin connection).\n     */\n    getLogs(host: string, linesNumber: number = 200): Promise<(string | number)[] | string | { error: string }> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: resolve => {\n                this._socket.emit('sendToHost', host, 'getLogs', linesNumber || 200, (lines: any) => {\n                    resolve(lines);\n                });\n            },\n        });\n    }\n\n    /**\n     * Upgrade adapter with webserver.\n     */\n    upgradeAdapterWithWebserver(\n        host: string,\n        options: {\n            version: string;\n            adapterName: string;\n            port: number;\n            useHttps?: boolean;\n            certPublicName?: string;\n            certPrivateName?: string;\n        },\n    ): Promise<{ result: boolean }> {\n        return this.request({\n            commandTimeout: false,\n            executor: resolve => {\n                this._socket.emit(\n                    'sendToHost',\n                    host,\n                    'upgradeAdapterWithWebserver',\n                    options as any,\n                    (result: unknown) => {\n                        resolve(result as { result: boolean });\n                    },\n                );\n            },\n        });\n    }\n\n    /**\n     * Upgrade controller\n     */\n    upgradeController(host: string, version: string, adminInstance: number): Promise<string> {\n        return this.request({\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit(\n                    'sendToHost',\n                    host,\n                    'upgradeController',\n                    {\n                        version,\n                        adminInstance,\n                    } as any,\n                    (result: unknown) => {\n                        const _result = result as {\n                            result: string;\n                            error?: string;\n                        };\n                        if (_result.error) {\n                            reject(_result.error);\n                        } else {\n                            resolve(_result.result);\n                        }\n                    },\n                );\n            },\n        });\n    }\n\n    /**\n     * Read licenses from ioBroker.net anew\n     */\n    updateLicenses(\n        /** login for ioBroker.net */\n        login: string,\n        /** password for ioBroker.net */\n        password: string,\n    ): Promise<License[] | undefined> {\n        return this.request({\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('updateLicenses', login, password, (err, licenses?: License[]) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(licenses);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Upgrade controller\n     */\n    upgradeOsPackages(\n        host: string,\n        packages: { name: string; version?: string }[],\n        restart?: boolean,\n    ): Promise<{ success: boolean; error?: string }> {\n        return this.request({\n            commandTimeout: false,\n            executor: resolve => {\n                this._socket.emit(\n                    'sendToHost',\n                    host,\n                    'upgradeOsPackages',\n                    {\n                        packages,\n                        restart: !!restart,\n                    } as any,\n                    (result: unknown) => {\n                        resolve(result as { success: boolean; error?: string });\n                    },\n                );\n            },\n        });\n    }\n\n    /**\n     * Get the log files (only for admin connection).\n     */\n    getLogsFiles(host: string): Promise<LogFile[]> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('readLogs', host, (err, files) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(files!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Delete the logs from a host (only for admin connection).\n     */\n    delLogs(host: string): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('sendToHost', host, 'delLogs', null, err => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Delete a file of an adapter.\n     *\n     * @param adapter The adapter name.\n     * @param fileName The file name.\n     */\n    deleteFile(adapter: string, fileName: string): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('deleteFile', adapter, fileName, err => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Delete a folder of an adapter.\n     *\n     * @param adapter The adapter name.\n     * @param folderName The folder name.\n     */\n    deleteFolder(adapter: string, folderName: string): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('deleteFolder', adapter, folderName, err => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n    /**\n     * Rename file or folder in ioBroker DB\n     *\n     * @param adapter instance name\n     * @param oldName current file name, e.g., main/vis-views.json\n     * @param newName new file name, e.g., main/vis-views-new.json\n     */\n    rename(adapter: string, oldName: string, newName: string): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('rename', adapter, oldName, newName, err => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Rename file in ioBroker DB\n     *\n     * @param adapter instance name\n     * @param oldName current file name, e.g., main/vis-views.json\n     * @param newName new file name, e.g., main/vis-views-new.json\n     */\n    renameFile(adapter: string, oldName: string, newName: string): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit('renameFile', adapter, oldName, newName, err => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the list of all hosts.\n     *\n     * @param update Force update.\n     */\n    getHosts(update?: boolean): Promise<ioBroker.HostObject[]> {\n        return this.request({\n            cacheKey: 'hosts',\n            forceUpdate: update,\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit(\n                    'getObjectView',\n                    'system',\n                    'host',\n                    { startkey: 'system.host.', endkey: 'system.host.\\u9999' },\n                    (err, doc) => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve(getObjectViewResultToArray<ioBroker.HostObject>(doc));\n                        }\n                    },\n                );\n            },\n        });\n    }\n\n    /**\n     * Get the list of all users.\n     *\n     * @param update Force update.\n     */\n    getUsers(update?: boolean): Promise<ioBroker.UserObject[]> {\n        return this.request({\n            cacheKey: 'users',\n            forceUpdate: update,\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: (resolve, reject) => {\n                this._socket.emit(\n                    'getObjectView',\n                    'system',\n                    'user',\n                    { startkey: 'system.user.', endkey: 'system.user.\\u9999' },\n                    (err, doc) => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve(getObjectViewResultToArray<ioBroker.UserObject>(doc));\n                        }\n                    },\n                );\n            },\n        });\n    }\n\n    /**\n     * Rename a group.\n     *\n     * @param id The id.\n     * @param newId The new id.\n     * @param newName The new name.\n     */\n    renameGroup(id: string, newId: string, newName: ioBroker.StringOrTranslated): Promise<void> {\n        return this.request({\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: async resolve => {\n                const groups = await this.getGroups(true);\n                // renaming a group happens by re-creating the object under a different ID\n                const subGroups = groups.filter(g => g._id.startsWith(`${id}.`));\n                // First, do this for all sub-groups\n                for (const group of subGroups) {\n                    const oldGroupId = group._id;\n                    const newGroupId = (newId + group._id.substring(id.length)) as ioBroker.ObjectIDs.Group;\n                    group._id = newGroupId;\n\n                    // Create a new object, then delete the old one if it worked\n                    await this.setObject(newGroupId, group);\n                    await this.delObject(oldGroupId);\n                }\n                // Then for the parent group\n                const parentGroup = groups.find(g => g._id === id);\n                if (parentGroup) {\n                    const oldGroupId = parentGroup._id;\n                    parentGroup._id = newId as ioBroker.ObjectIDs.Group;\n                    if (newName !== undefined) {\n                        (parentGroup.common as any) ??= {};\n                        parentGroup.common.name = newName as any;\n                    }\n\n                    // Create a new object, then delete the old one if it worked\n                    await this.setObject(newId, parentGroup);\n                    await this.delObject(oldGroupId);\n                }\n\n                resolve();\n            },\n        });\n    }\n\n    /**\n     * Get the host information.\n     *\n     * @param host host name\n     * @param update Force update.\n     * @param timeoutMs optional read timeout.\n     */\n    getHostInfo(host: string, update?: boolean, timeoutMs?: number): Promise<HostInfo> {\n        host = normalizeHostId(host);\n        return this.request({\n            cacheKey: `hostInfo_${host}`,\n            forceUpdate: update,\n            commandTimeout: timeoutMs,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getHostInfo', null, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getHostInfo\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getHostInfo\"');\n                    } else {\n                        resolve(data as HostInfo);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the host information (short version).\n     *\n     * @param host host name\n     * @param update Force update.\n     * @param timeoutMs optional read timeout.\n     */\n    getHostInfoShort(host: string, update?: boolean, timeoutMs?: number): Promise<HostInfo> {\n        host = normalizeHostId(host);\n        return this.request({\n            cacheKey: `hostInfoShort_${host}`,\n            forceUpdate: update,\n            commandTimeout: timeoutMs,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getHostInfoShort', null, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getHostInfoShort\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getHostInfoShort\"');\n                    } else {\n                        resolve(data as HostInfo);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the repository.\n     *\n     * @param host The host name.\n     * @param args The arguments.\n     * @param update Force update.\n     * @param timeoutMs timeout in ms.\n     */\n    getRepository(\n        host: string,\n        args?: { update?: boolean; repo?: string | string[] } | string | null,\n        update?: boolean,\n        timeoutMs?: number,\n    ): Promise<Repository> {\n        return this.request({\n            cacheKey: `repository_${host}`,\n            forceUpdate: update,\n            commandTimeout: timeoutMs,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getRepository', args, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getRepository\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getRepository\"');\n                    } else {\n                        resolve(data as Repository);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the installed.\n     *\n     * @param host The host name.\n     * @param update Force update.\n     * @param cmdTimeout timeout in ms\n     */\n    getInstalled(host: string, update?: boolean, cmdTimeout?: number): Promise<InstalledInfo> {\n        host = normalizeHostId(host);\n\n        return this.request({\n            cacheKey: `installed_${host}`,\n            forceUpdate: update,\n            commandTimeout: cmdTimeout,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getInstalled', null, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getInstalled\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getInstalled\"');\n                    } else {\n                        resolve(data as InstalledInfo);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Execute a command on a host.\n     */\n    cmdExec(\n        /** The host name. */\n        host: string,\n        /** The command to execute. */\n        cmd: string,\n        /** The command ID. */\n        cmdId: number,\n        /** Timeout of command in ms */\n        cmdTimeout?: number,\n    ): Promise<void> {\n        return this.request({\n            commandTimeout: cmdTimeout,\n            executor: (resolve, reject, timeout) => {\n                host = normalizeHostId(host);\n\n                this._socket.emit('cmdExec', host, cmdId, cmd, err => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Read the base settings of a given host.\n     *\n     * @param host The host name.\n     */\n    readBaseSettings(host: string): Promise<{ config?: ioBroker.IoBrokerJson; isActive?: boolean }> {\n        // Make sure we deal with a hostname, not an object ID\n        host = objectIdToHostname(host);\n\n        return this.request({\n            requireFeatures: ['CONTROLLER_READWRITE_BASE_SETTINGS'],\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'readBaseSettings', null, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"BaseSettings\"');\n                    } else if (!data) {\n                        reject('Cannot read \"BaseSettings\"');\n                    } else if ((data as { error?: string }).error) {\n                        reject(new Error((data as { error?: string }).error));\n                    } else {\n                        resolve(data as { config: ioBroker.IoBrokerJson; isActive: boolean });\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Write the base settings of a given host.\n     *\n     * @param host The host name.\n     * @param config The configuration to write.\n     */\n    writeBaseSettings(host: string, config: ioBroker.IoBrokerJson): Promise<{ error?: string; result?: 'ok' }> {\n        // Make sure we deal with a hostname, not an object ID\n        host = objectIdToHostname(host);\n\n        return this.request({\n            requireFeatures: ['CONTROLLER_READWRITE_BASE_SETTINGS'],\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'writeBaseSettings', config, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not write \"BaseSettings\"');\n                    } else if (!data) {\n                        reject('Cannot write \"BaseSettings\"');\n                    } else {\n                        resolve(data);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Send command to restart the iobroker on host\n     *\n     * @param host The host name.\n     */\n    restartController(host: string): Promise<true> {\n        // Make sure we deal with a hostname, not an object ID\n        host = objectIdToHostname(host);\n\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'restartController', null, () => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    resolve(true);\n                });\n            },\n        });\n    }\n\n    /**\n     * Read statistics information from host\n     *\n     * @param host The host name.\n     * @param typeOfDiag one of none, normal, no-city, extended\n     */\n    getDiagData(\n        host: string,\n        typeOfDiag: 'none' | 'normal' | 'no-city' | 'extended',\n    ): Promise<Record<string, any> | null> {\n        // Make sure we deal with a hostname, not an object ID\n        host = objectIdToHostname(host);\n\n        return this.request({\n            executor: (resolve, _reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getDiagData', typeOfDiag, result => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (!result) {\n                        resolve(null);\n                    } else {\n                        resolve(result as Promise<Record<string, any>>);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Change the password of the given user.\n     *\n     * @param user The user name.\n     * @param password The new password.\n     */\n    changePassword(user: string, password: string): Promise<void> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('changePassword', user, password, err => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve();\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the IP addresses of the given host.\n     *\n     * @param host The host name.\n     * @param update Force update.\n     */\n    getIpAddresses(host: string, update?: boolean): Promise<string[]> {\n        host = normalizeHostId(host);\n        return this.request({\n            cacheKey: `IPs_${host}`,\n            forceUpdate: update,\n            // TODO: check if this should time out\n            commandTimeout: false,\n            executor: async resolve => {\n                const obj = await this.getObject(host);\n                resolve(obj?.common.address ?? []);\n            },\n        });\n    }\n\n    /**\n     * Get the IP addresses with interface names of the given host or find host by IP.\n     *\n     * @param ipOrHostName The IP address or host name.\n     * @param update Force update.\n     */\n    getHostByIp(ipOrHostName: string, update?: boolean): Promise<IPAddress[]> {\n        // Make sure we deal with a hostname, not an object ID\n        ipOrHostName = objectIdToHostname(ipOrHostName);\n\n        return this.request({\n            cacheKey: `rIPs_${ipOrHostName}`,\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getHostByIp', ipOrHostName, (ip, host) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    const { IPs4, IPs6 } = parseIPAddresses(host);\n                    resolve([...IPs4, ...IPs6]);\n                });\n            },\n        });\n    }\n\n    /**\n     * Encrypt a text\n     *\n     * @param plaintext The text to encrypt.\n     */\n    encrypt(plaintext: string): Promise<string> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('encrypt', plaintext, (err, ciphertext) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(ciphertext!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Decrypt a text\n     *\n     * @param ciphertext The text to decrypt.\n     */\n    decrypt(ciphertext: string): Promise<string> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('decrypt', ciphertext, (err, plaintext) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(plaintext!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Change access rights for file\n     *\n     * @param adapter adapter name\n     * @param path file name with a full path. It could be like 'vis.0/*'\n     * @param options like {mode: 0x644}\n     * @param options.mode The new mode for the file\n     */\n    chmodFile(\n        adapter: string | null,\n        path: string,\n        options?: { mode: number | string },\n    ): Promise<ioBroker.ChownFileResult[]> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('chmodFile', adapter, path, options, (err, processed) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(processed!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Change an owner or/and owner group for file\n     *\n     * @param adapter adapter name\n     * @param filename file name with a full path. it could be like vis.0/*\n     * @param options like {owner: \"newOwner\", ownerGroup: \"newGroup\"}\n     * @param options.owner The new owner for the file\n     * @param options.ownerGroup The new owner group for the file\n     */\n    chownFile(\n        adapter: string,\n        filename: string,\n        options?: { owner?: string; ownerGroup?: string },\n    ): Promise<ioBroker.ChownFileResult[]> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('chownFile', adapter, filename, options, (err, processed) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(processed!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Get the alarm notifications from a host (only for admin connection).\n     *\n     * @param host The host name.\n     * @param category - optional\n     */\n    getNotifications(host: string, category?: string): Promise<void | { result: FilteredNotificationInformation }> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'getNotifications', { category }, notifications => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    resolve(\n                        notifications as {\n                            result: FilteredNotificationInformation;\n                        },\n                    );\n                });\n            },\n        });\n    }\n\n    /**\n     * Clear the alarm notifications on a host (only for admin connection).\n     *\n     * @param host The host name.\n     * @param category - optional\n     */\n    clearNotifications(host: string, category: string): Promise<{ result: 'ok' }> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('sendToHost', host, 'clearNotifications', { category }, result => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    resolve(result as { result: 'ok' });\n                });\n            },\n        });\n    }\n\n    /**\n     * Read if only easy mode is allowed (only for admin connection).\n     */\n    getIsEasyModeStrict(): Promise<boolean> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getIsEasyModeStrict', (err, isStrict) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(!!isStrict);\n                });\n            },\n        });\n    }\n\n    /**\n     * Read easy mode configuration (only for admin connection).\n     */\n    getEasyMode(): Promise<{\n        strict: boolean;\n        configs: {\n            id: string;\n            title: ioBroker.StringOrTranslated;\n            desc: ioBroker.StringOrTranslated;\n            color: string;\n            url: string;\n            icon: string;\n            materialize: boolean;\n            jsonConfig: boolean;\n            version: string;\n        }[];\n    }> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getEasyMode', (err, config) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n\n                    timeout.clearTimeout();\n\n                    if (err) {\n                        reject(new Error(err));\n                    } else {\n                        resolve(\n                            config as {\n                                strict: boolean;\n                                configs: {\n                                    id: string;\n                                    title: ioBroker.StringOrTranslated;\n                                    desc: ioBroker.StringOrTranslated;\n                                    color: string;\n                                    url: string;\n                                    icon: string;\n                                    materialize: boolean;\n                                    jsonConfig: boolean;\n                                    version: string;\n                                }[];\n                            },\n                        );\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Read adapter ratings\n     */\n    getRatings(update?: boolean): Promise<{ [adapterName: string]: AdapterRating } & { uuid: string }> {\n        return this.request({\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getRatings', !!update, (err, ratings) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(new Error(err));\n                    } else {\n                        resolve(ratings as { [adapterName: string]: AdapterRating } & { uuid: string });\n                    }\n                });\n            },\n        });\n    }\n\n    getCurrentSession(cmdTimeout?: number): Promise<{ expireInSec?: number; error?: string }> {\n        const controller = new AbortController();\n\n        return this.request({\n            commandTimeout: cmdTimeout || 5000,\n            onTimeout: () => {\n                controller.abort();\n            },\n            executor: async (resolve, reject, timeout) => {\n                try {\n                    const res = await fetch('./session', {\n                        signal: controller.signal,\n                    });\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    const result: { expireInSec?: number; error?: string } = await res.json();\n                    resolve(result);\n                } catch (e) {\n                    reject(`getCurrentSession: ${e}`);\n                }\n            },\n        });\n    }\n\n    /**\n     * Read current web, socketio or admin namespace, like admin.0\n     */\n    getCurrentInstance(): Promise<string> {\n        return this.request({\n            cacheKey: 'currentInstance',\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCurrentInstance', (err, namespace) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(namespace!);\n                    }\n                });\n            },\n        });\n    }\n\n    /**\n     * Get all instances of the given adapter or get all instances.\n     *\n     * @param adapter The name of the adapter.\n     * @param update Force update.\n     */\n    getAdapterInstances(adapter?: string | boolean, update?: boolean): Promise<ioBroker.InstanceObject[]> {\n        let adapterStr: string;\n        if (typeof adapter === 'boolean') {\n            update = adapter;\n            adapterStr = '';\n        } else {\n            adapterStr = adapter || '';\n        }\n\n        return this.request({\n            cacheKey: `instances_${adapterStr}`,\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getAdapterInstances', adapterStr, (err, instances) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(instances!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Get adapters with the given name or get all adapters.\n     *\n     * @param adapter The name of the adapter.\n     * @param update Force update.\n     */\n    getAdapters(adapter?: string | boolean, update?: boolean): Promise<ioBroker.AdapterObject[]> {\n        let adapterStr: string;\n        if (typeof adapter === 'boolean') {\n            update = adapter;\n            adapterStr = '';\n        } else {\n            adapterStr = adapter || '';\n        }\n\n        return this.request({\n            cacheKey: `adapter_${adapterStr}`,\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getAdapters', adapterStr, (err, adapters) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(adapters!);\n                });\n            },\n        });\n    }\n\n    // returns very optimized information for adapters to minimize a connection load\n    getCompactAdapters(update?: boolean): Promise<Record<string, CompactAdapterInfo>> {\n        return this.request({\n            cacheKey: 'compactAdapters',\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactAdapters', (err, adapters) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(adapters!);\n                });\n            },\n        });\n    }\n\n    // reset cached promise, so next time the information will be requested anew\n    getAdaptersResetCache(adapter?: string): void {\n        adapter = adapter ?? '';\n        this.resetCache(`adapter_${adapter}`);\n        this.resetCache(`compactAdapters`);\n    }\n\n    // returns very optimized information for adapters to minimize a connection load\n    getCompactInstances(update?: boolean): Promise<Record<string, CompactInstanceInfo>> {\n        return this.request({\n            cacheKey: 'compactInstances',\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactInstances', (err, instances) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(instances!);\n                });\n            },\n        });\n    }\n\n    // reset cached promise, so next time the information will be requested anew\n    getAdapterInstancesResetCache(adapter?: string): void {\n        adapter = adapter ?? '';\n        this.resetCache(`instances_${adapter}`);\n        this.resetCache(`compactInstances`);\n    }\n\n    // returns very optimized information for adapters to minimize a connection load\n    // reads only a version of installed adapter\n    getCompactInstalled(host: string, update?: boolean, cmdTimeout?: number): Promise<CompactInstalledInfo> {\n        host = normalizeHostId(host);\n\n        return this.request({\n            cacheKey: `installedCompact_${host}`,\n            forceUpdate: update,\n            commandTimeout: cmdTimeout,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactInstalled', host, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getCompactInstalled\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getCompactInstalled\"');\n                    } else {\n                        resolve(data);\n                    }\n                });\n            },\n        });\n    }\n\n    // reset cached promise, so next time the information will be requested anew\n    getInstalledResetCache(host?: string): void {\n        if (!host) {\n            this.resetCache(`installedCompact_`, true);\n            this.resetCache(`installed_`, true);\n        } else {\n            this.resetCache(`installedCompact_${host}`);\n            this.resetCache(`installed_${host}`);\n        }\n    }\n\n    /**\n     * Get the repository in compact form (only version and icon).\n     *\n     * @param host The host name.\n     * @param update Force update.\n     * @param timeoutMs timeout in ms.\n     */\n    getCompactRepository(host: string, update?: boolean, timeoutMs?: number): Promise<CompactRepository> {\n        host = normalizeHostId(host);\n\n        return this.request({\n            cacheKey: `repositoryCompact_${host}`,\n            forceUpdate: update,\n            commandTimeout: timeoutMs,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactRepository', host, data => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n\n                    if (data === ERRORS.PERMISSION_ERROR) {\n                        reject('May not read \"getCompactRepository\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getCompactRepository\"');\n                    } else {\n                        resolve(data);\n                    }\n                });\n            },\n        });\n    }\n\n    // reset cached promise, so next time the information will be requested anew\n    getRepositoryResetCache(host: string): void {\n        if (!host) {\n            this.resetCache(`repositoryCompact_`, true);\n            this.resetCache(`repository_`, true);\n        } else {\n            this.resetCache(`repositoryCompact_${host}`);\n            this.resetCache(`repository_${host}`);\n        }\n    }\n\n    /**\n     * Get the list of all hosts in compact form (only _id, common.name, common.icon, common.color, native.hardware.networkInterfaces)\n     *\n     * @param update Force update.\n     */\n    getCompactHosts(update?: boolean): Promise<CompactHost[]> {\n        return this.request({\n            cacheKey: 'hostsCompact',\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactHosts', (err, compactHostsInfo) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(compactHostsInfo!);\n                });\n            },\n        });\n    }\n\n    /**\n     * Get `system.repository` without big JSON\n     */\n    getCompactSystemRepositories(update?: boolean): Promise<CompactSystemRepository> {\n        return this.request({\n            cacheKey: 'repositoriesCompact',\n            forceUpdate: update,\n            executor: (resolve, reject, timeout) => {\n                this._socket.emit('getCompactSystemRepositories', (err, systemRepositories) => {\n                    if (timeout.elapsed) {\n                        return;\n                    }\n                    timeout.clearTimeout();\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(systemRepositories!);\n                });\n            },\n        });\n    }\n}\n"]}